{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","changeFilter","value","onChange","PersonForm","addPerson","newName","changeNewName","newNumber","changeNewNumber","onSubmit","type","Person","name","number","handleClick","id","onClick","Persons","persons","map","p","key","Notification","notification","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","message","baseUrl","axios","get","then","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","setNotification","useEffect","personService","initialPersons","catch","error","alert","console","personsToShow","toLowerCase","includes","event","target","preventDefault","duplicatePerson","find","window","confirm","newPerson","returnedPerson","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0f7920e1.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filter, changeFilter }) => (\n  <div>\n    Filter shown with <input value={filter} onChange={changeFilter} />\n  </div>\n);\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({addPerson, newName, changeNewName, newNumber, changeNewNumber}) => (\n  <form onSubmit={addPerson}>\n    <div>\n      name: <input value={newName} onChange={changeNewName} />\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={changeNewNumber} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Person = ({ name, number, handleClick, id }) => (\n  <div>\n    {name} {number} <button onClick={() => handleClick(id)}>delete</button>\n  </div>\n);\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({ persons, handleClick }) => (\n  <div>\n    {persons.map((p) => (\n      <Person key={p.name} name={p.name} number={p.number} id={p.id} handleClick={handleClick}/>\n    ))}\n  </div>\n);\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null;\n  }\n\n  const notificationStyle = {\n    color: notification.type === \"info\" ? \"green\" : \"red\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  return <div style={notificationStyle}>{notification.message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(({ data }) => data);\n};\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject).then(({ data }) => data);\n};\n\nconst remove = (id) => {\n  //console.log(`Deleting ${id}`);\n  return axios.delete(`${baseUrl}/${id}`);\n};\nconst update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject).then(({data}) => data);\n}\nexport default { getAll, create, remove, update };\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((initialPersons) => setPersons(initialPersons))\n      .catch((error) => {\n        alert(\"Could not load data from the server.\");\n        console.error(error);\n      });\n  }, []);\n\n  const personsToShow = filter\n    ? persons.filter((p) => p.name.toLowerCase().includes(filter.toLowerCase()))\n    : persons;\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const duplicatePerson = persons.find((p) => p.name === newName);\n    if (duplicatePerson) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const newPerson = { ...duplicatePerson, number: newNumber };\n        personService\n          .update(newPerson.id, newPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((p) => (p.name === newName ? returnedPerson : p))\n            );\n            setNotification({\n              type: \"info\",\n              message: `Updated phone number for ${returnedPerson.name}`,\n            });\n            setTimeout(() => {\n              setNotification(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            setNotification({\n              type: \"error\",\n              message: `Information of ${newPerson.name} has already been removed from the server`,\n            });\n            setTimeout(() => {\n              setNotification(null);\n            }, 5000);\n            setPersons(persons.filter((p) => p.name !== newName));\n          });\n      }\n    } else {\n      const newObject = {\n        name: newName,\n        number: newNumber,\n      };\n      personService\n        .create(newObject)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setNotification({\n            type: \"info\",\n            message: `Added ${returnedPerson.name}`,\n          });\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          alert(\"Could not add person to phonebook.\");\n          console.error(error);\n        });\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const changeNewName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const changeNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const changeFilter = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const deletePerson = (id) => {\n    const { name } = persons.find((p) => p.id === id);\n    if (window.confirm(`Delete ${name} ?`)) {\n      personService\n        .remove(id)\n        .then(setPersons(persons.filter((p) => p.id !== id)));\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter filter={filter} changeFilter={changeFilter} />\n      <h3>Add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        changeNewName={changeNewName}\n        newNumber={newNumber}\n        changeNewNumber={changeNewNumber}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} handleClick={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}